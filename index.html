<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <img src="./img/exercise.jpg" alt="">
    <h1>ESERCIZIO MySQL</h1>
    <ol>
        <li>SELECT * FROM `students` WHERE `date_of_birth` LIKE '1990-%'</li>
        <li>SELECT * FROM `courses` WHERE `cfu` > 10</li>
        <li>
            SELECT * FROM `students` WHERE `date_of_birth` < '1991-10-27'
            SELECT * FROM `students` WHERE `date_of_birth` <= SUBDATE(CURRENT_DATYE(), INTERVAL 30 YEAR )
        </li>
        <li>SELECT * FROM `courses` WHERE `period` = 'I semestre' AND `year` = 1</li>
        <li>SELECT * FROM `exams` WHERE `date` = '2020-06-20' AND `hour` > '14:00:00'</li>
        <li>SELECT * FROM `degrees` WHERE `level`= 'magistrale'</li>
        <li>SELECT COUNT(`id`) FROM `departments`</li>
        <li>SELECT * FROM `teachers` WHERE `phone` IS NULL</li>
    </ol>
    <h1>ESERCIZIO MySQL GROUP BY</h1>
    <ol>
        <li>
            SELECT COUNT(`id`) AS 'iscritti_annuali' , YEAR(`enrolment_date`) AS 'anno'
            FROM `students`
            GROUP BY YEAR(`enrolment_date`)
        </li>
        <li>
            SELECT COUNT(`id`) AS 'numero_insegnanti', `office_number` AS 'numero_ufficio'
            FROM `teachers` 
            GROUP BY `office_number`
        </li>
        <li>
            SELECT AVG(`vote`) AS 'media_voti', `exam_id` AS 'id_esame' 
            FROM `exam_student` 
            GROUP BY `exam_id`
        </li>
        <li>
            SELECT COUNT(`id`) AS 'numero_corsi_laurea', `department_id` AS 'num_dipartimento' 
            FROM `degrees` 
            GROUP BY `department_id`
        </li>
    </ol>
    <h1>ESERCIZIO MySQL JOIN</h1>
    <ol>
        <li>
            SELECT `students`.`name` AS 'nome_studente', `students`.`surname` AS 'cognome_studente', `students`.`id` AS
            'id_studente', `degrees`.`name` AS 'corso_laurea' 
            FROM `students` 
            JOIN `degrees` 
            ON `degree_id` 
            WHERE `degrees`.`name` = 'Corso di Laurea in Economia'
        </li>
        <li>
            SELECT * 
            FROM `degrees` 
            JOIN `departments` 
            ON `degrees`.`department_id` = `departments`.`id` 
            WHERE `departments`.`name` = 'Dipartimento di Neuroscienze'
        </li>
        <li>
            SELECT `teachers`.`name` AS 'nome_insegnante', `teachers`.`surname` AS 'cognome_insegnante', `courses`.`id` AS
            'course_id', `courses`.`name` AS 'course_name', `courses`.`description` AS 'descrizione_corso' 
            FROM `teachers` 
            JOIN `course_teacher` 
            ON `teachers`.`id` = `course_teacher`.`teacher_id` 
            JOIN `courses` 
            ON `course_teacher`.`course_id` = `courses`.`id` 
            WHERE `teachers`.`id` = 44
        </li>
        <li>
            SELECT DISTINCT `students`.`surname` AS 'cognome_studente', `departments`.`name` AS 'nome_dipartimento',
            `degrees`.`name` AS 'nome_corso_laurea', `degrees`.`level` AS 'livello_corso'
            FROM `students`
            JOIN `degrees`
            ON `students`.`degree_id` = `degrees`.`id`
            JOIN `departments`
            ON `degrees`.`department_id`
            ORDER BY `students`.`surname` ASC
        </li>
        <li></li>
        <li></li>
    </ol>
</body>           
</html>